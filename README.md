# ๐ ูุฏุฑุช ฺฏูุงู SSL/TLS ุจุฑุง Hiddify-Panel ุจุง Let's Encrypt (certbot)

ฺฉ ุงุณฺฉุฑูพุช ุณุงุฏูโ Bash ุจุฑุง ุชููุฏ ู ูุตุจ ฺฏูุงูโูุง SSL ุจุง ุงุณุชูุงุฏู ุงุฒ **Certbot** ู **Let's Encrypt** ุจุฑุง ูพูู Hiddify โ ุจู ุนููุงู ุฌุงฺฏุฒู ุจุฑุง `acme.sh` ฺฉู ููฺฉู ุงุณุช ุฏุฑ ุจุฑุฎ ุฏุงูููโูุง ุง ุฒุฑุฏุงูููโูุง ุจู ุฏุฑุณุช ุนูู ูฺฉูุฏ.

ุงู ุฑูุดุ ุณุงุฒฺฏุงุฑ ู ูุฏุฑุช ุจูุชุฑ ุจุฑุง ฺฏูุงูโูุง ูุฑุงูู ูโฺฉูุฏุ ุจูโุฎุตูุต ุฑู ุณุฑูุฑูุง ูุณุชูู ฺฉู ูุณุชููุงู ุจู ุฏุงููู ุฏุณุชุฑุณ ุฏุงุฑูุฏ.

## ๐ ฺุฑุง ุงุฒ ุงู ุฑูุด ุงุณุชูุงุฏู ฺฉููุ

ูพูู ูุฏุฑุช Hiddify ุจูโุตูุฑุช ูพุดโูุฑุถ ุงุฒ [`acme.sh`](https://github.com/acmesh-official/acme.sh) ุจุฑุง ุตุฏูุฑ ฺฏูุงู SSL ุงุณุชูุงุฏู ูโฺฉูุฏ. ุงูุง ุฏุฑ ุจุฑุฎ ุดุฑุงุทุ ุงู ุงุจุฒุงุฑ ููฺฉู ุงุณุช ุฏุฑ ุงุนุชุจุงุฑุณูุฌ ุง ุชูุฏุฏ ฺฏูุงูโูุง ุจุง ูุดฺฉู ููุงุฌู ุดูุฏุ ูุฎุตูุตุงู ุจุฑุง:

- ุฏุงูููโูุง ฺฉู ูพุดุช Cloudflare Workers ูุฑุงุฑ ุฏุงุฑูุฏ
- ุฒุฑุฏุงูููโูุง ฺูุฏูุงู
- ุณุฑูุฑูุง ุจุง ูุงุฑูุงู ุณูุงุฑุด ุง ุชุบุฑุงุช ุฏุฑ ูพูุฑุชโูุง

## ๐ ูฺฺฏโูุง ฺฉูุฏ

- ๐ ุฏุฑุฎูุงุณุช ุฎูุฏฺฉุงุฑ ฺฏูุงู ุงุฒ Let's Encrypt
- ๐ ูุฏุฑุช ุณุงุฏู ุฏุงูููโูุง ุงุฒ ุทุฑู ููู ุชุนุงูู
- ๐๏ธ ุดูุงุณุง ู ุชููู ุฎูุฏฺฉุงุฑ ุณุฑูุณโูุง ุงุณุชูุงุฏูโฺฉููุฏู ุงุฒ ูพูุฑุช 80
- ๐ ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุฎูุฏฺฉุงุฑ ุณุฑูุณโูุง ูพุณ ุงุฒ ุตุฏูุฑ ฺฏูุงู
- ๐ ูุงฺฏ ฺฉุงูู ุนููุงุช ู ููุงุด ุฏูู ูุถุนุช
- ๐ ุณุงุฒูุงูโุฏู ุฎูุฏฺฉุงุฑ ูุงูโูุง ฺฏูุงู ุฏุฑ ูุณุฑ Hiddify
- ๐ ุจุฑุฑุณ ฺูุฏฺฏุงูู ูพูุฑุช 80 ุจุง ุงุจุฒุงุฑูุง ูุฎุชูู

## ูพุดโูุงุฒูุง

- ุณุณุชู ุนุงูู Linux (Ubuntu/Debian/CentOS)
- ุฏุณุชุฑุณ Root ุง sudo
- ุงุชุตุงู ุงูุชุฑูุช ุจุฑุง Let's Encrypt
- Git ุจุฑุง ุฏุงูููุฏ ูพุฑูฺู
- Snap ุจุฑุง ูุตุจ Certbot

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ฑ. ูุตุจ ูพุดโูุงุฒูุง

```bash
# ูุตุจ Git (ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ)
sudo apt update && sudo apt install git -y

# ูุตุจ Snap (ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ)
sudo apt install snapd -y
```

### ฒ. ุฏุงูููุฏ ูพุฑูฺู ุจุง Git Clone

```bash
# ฺฉููู ฺฉุฑุฏู ูุฎุฒู ูพุฑูฺู
git clone https://github.com/ryuk-74/certbot-ssl-for-hiddify.git

# ูุฑูุฏ ุจู ูพูุดู ูพุฑูฺู
cd certbot-ssl-for-hiddify

# ุฏุงุฏู ูุฌูุฒ ุงุฌุฑุง ุจู ุงุณฺฉุฑูพุช
chmod +x certbot-for-hiddify.sh
```

### ณ. ุงุฌุฑุง ุงุณฺฉุฑูพุช

```bash
# ุงุฌุฑุง ุจุง ุฏุณุชุฑุณ root
sudo ./certbot-for-hiddify.sh
```

## ๐ฑ ุฑุงูููุง ุงุณุชูุงุฏู

ุงุณฺฉุฑูพุช ุฏุงุฑุง ููู ุชุนุงูู ุงุณุช ฺฉู ุดุงูู ููุงุฑุฏ ุฒุฑ ูโุจุงุดุฏ:

### ููู ุงุตู
```
===== Certbot SSL Manager for Hiddify by Ryuk-74 =====
[*] Configured domains: X

1) Manage Domains
2) Issue Certificates  
3) Install Certbot
4) Exit
```

### ูุฏุฑุช ุฏุงูููโูุง

#### ุงูุฒูุฏู ุฏุงููู ุฌุฏุฏ
1. ุงุฒ ููู ุงุตูุ ฺฏุฒูู **"Manage Domains"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. ฺฏุฒูู **"Add Domain"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุฏุงููู ููุฑุฏ ูุธุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูุซุงู: `example.com`)

#### ูุฑุงุด ุฏุงููู
1. ฺฏุฒูู **"Edit Domain"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. ุดูุงุฑู ุฏุงููู ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ููุฏุงุฑ ุฌุฏุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ

#### ุญุฐู ุฏุงููู
1. ฺฏุฒูู **"Delete Domain"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. ุดูุงุฑู ุฏุงููู ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุญุฐู ุชุฃุฏ ูโุดูุฏ ู ูุงูโูุง ฺฏูุงู ูุฑุจูุทู ูุฒ ุญุฐู ูโุดููุฏ

### ุตุฏูุฑ ฺฏูุงู SSL

#### ุฏุฑุฎูุงุณุช ฺฏูุงู ุจุฑุง ุชูุงู ุฏุงูููโูุง
```
Issue Certificates โ Request All Certificates
```

#### ุฏุฑุฎูุงุณุช ฺฏูุงู ุจุฑุง ฺฉ ุฏุงููู ุฎุงุต
```
Issue Certificates โ Request for Specific Domain
```

## ๐ง ูุฏุฑุช ุฎูุฏฺฉุงุฑ ูพูุฑุช 80

ุงุณฺฉุฑูพุช ุจูโุตูุฑุช ููุดููุฏ ูพูุฑุช 80 ุฑุง ูุฏุฑุช ูโฺฉูุฏ:

- **ุดูุงุณุง ฺูุฏฺฏุงูู**: ุงุฒ ุงุจุฒุงุฑูุง `ss`, `netstat`, `lsof`, ู `fuser` ุงุณุชูุงุฏู ูโฺฉูุฏ
- **ุชููู ุณุฑูุณโูุง**: ุงุจุชุฏุง ุณุน ุฏุฑ ุชููู ุณุฑูุณ systemd ูโฺฉูุฏ
- **Kill ฺฉุฑุฏู ูุฑุขูุฏูุง**: ุฏุฑ ุตูุฑุช ุนุฏู ููููุชุ ูุฑุขูุฏ ุฑุง kill ูโฺฉูุฏ
- **ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ**: ูพุณ ุงุฒ ุตุฏูุฑ ฺฏูุงูุ ุณุฑูุณโูุง ุฑุง ูุฌุฏุฏุงู ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

```
certbot-ssl-for-hiddify/
โโโ certbot-for-hiddify.sh          # ุงุณฺฉุฑูพุช ุงุตู
โโโ domains.txt                     # ูุงู ูุณุช ุฏุงูููโูุง (ุงุฌุงุฏ ุฎูุฏฺฉุงุฑ)
โโโ README.md

/opt/hiddify-manager/ssl/           # ฺฏูุงูโูุง ููุง (ุงุฌุงุฏ ุฎูุฏฺฉุงุฑ)
โโโ domain1.com.crt                 # ูุงู ฺฏูุงู
โโโ domain1.com.crt.key            # ฺฉูุฏ ุฎุตูุต
โโโ domain2.com.crt
โโโ domain2.com.crt.key

/etc/letsencrypt/live/             # ูุงูโูุง ุงุตู Let's Encrypt
```

## ๐ ูุฏุฑุช ุฏุณุช ุฏุงูููโูุง

ูโุชูุงูุฏ ุฏุงูููโูุง ุฑุง ูุณุชููุงู ุฏุฑ ูุงู `domains.txt` ูุฒ ูุฏุฑุช ฺฉูุฏ:

```bash
# ุงูุฒูุฏู ุฏุงููู
echo "example.com" >> domains.txt

# ูุฑุงุด ูุงู
nano domains.txt
```

## ๐๏ธ ุนุจโุงุจ ูุดฺฉูุงุช ุฑุงุฌ

### ุฎุทุง "Port 80 in use"
```bash
# ุจุฑุฑุณ ฺู ุณุฑูุณ ุงุฒ ูพูุฑุช 80 ุงุณุชูุงุฏู ูโฺฉูุฏ
sudo ss -ltnp 'sport = :80'
sudo netstat -tlnp | grep :80
sudo lsof -i :80

# ูุชููู ฺฉุฑุฏู ูููุช ุณุฑูุณ ููุฑุฏ ูุธุฑ
sudo systemctl stop service-name
```

### ุฎุทุง ูุตุจ Certbot
```bash
# ูุตุจ ุฏุณุช Certbot
sudo snap install --classic certbot
sudo ln -s /snap/bin/certbot /usr/bin/certbot
```

### ูุดฺฉูุงุช ุฏุณุชุฑุณ ุจู ูุงู
```bash
# ุจุฑุฑุณ ุฏุณุชุฑุณโูุง
ls -la /opt/hiddify-manager/ssl/
ls -la /etc/letsencrypt/live/
```

### ุจุฑุฑุณ ูุถุนุช ฺฏูุงู
```bash
# ุจุฑุฑุณ ุชุงุฑุฎ ุงููุถุง ฺฏูุงู
sudo certbot certificates

# ุชุณุช ุชูุฏุฏ ฺฏูุงู
sudo certbot renew --dry-run
```

## ๐ ุจุฑูุฒุฑุณุงู ุงุณฺฉุฑูพุช

```bash
# ูุฑูุฏ ุจู ูพูุดู ูพุฑูฺู
cd certbot-ssl-for-hiddify

# ุฏุฑุงูุช ุขุฎุฑู ูุณุฎู
git pull origin main

# ุงุฌุฑุง ูุณุฎู ุฌุฏุฏ
sudo ./certbot-for-hiddify.sh
```

## ๐ ุงููุช

- ููู ูุงูโูุง ฺฉูุฏ ุฎุตูุต ุจุง ุฏุณุชุฑุณ 600 ุฐุฎุฑู ูโุดููุฏ
- ูุงูโูุง ฺฏูุงู ุจุง ุฏุณุชุฑุณ 644 ุฐุฎุฑู ูโุดููุฏ
- ุงุณฺฉุฑูพุช ูุงุฒ ุจู ุฏุณุชุฑุณ root ุฏุงุฑุฏ ุชุง ุจุชูุงูุฏ ูุงูโูุง ุฑุง ุฏุฑ ูุณุฑูุง ุณุณุชู ฺฉูพ ฺฉูุฏ

## ๐ ูุงฺฏโูุง ู ูุธุงุฑุช

ุงุณฺฉุฑูพุช ุงุทูุงุนุงุช ฺฉุงูู ุฏุฑ ููุฑุฏ ุนููุงุช ุงุฑุงุฆู ูโุฏูุฏ:
- ูุถุนุช ูุฑ ูุฑุญูู ุงุฒ ูุฑุขูุฏ
- ุฌุฒุฆุงุช ุฎุทุงูุง
- ุงุทูุงุนุงุช ุณุฑูุณโูุง ูุชููู ุดุฏู
- ุฒูุงู ุตุฏูุฑ ู ูุณุฑ ุฐุฎุฑู ฺฏูุงูโูุง

---

**โ๏ธ ูฺฉุชู ููู**: ููุดู ูุจู ุงุฒ ุงุฌุฑุง ุฏุฑ ูุญุท ุชููุฏุ ุงุณฺฉุฑูพุช ุฑุง ุฏุฑ ูุญุท ุชุณุช ุขุฒูุงุด ฺฉูุฏ.

**๐ ุชูุฏุฏ ุฎูุฏฺฉุงุฑ**: ฺฏูุงูโูุง Let's Encrypt ูุฑ 90 ุฑูุฒ ุงููุถุง ูโุงุจูุฏ. ูโุชูุงูุฏ ุงุฒ cron job ุจุฑุง ุชูุฏุฏ ุฎูุฏฺฉุงุฑ ุงุณุชูุงุฏู ฺฉูุฏ:

```bash
# ุงูุฒูุฏู ุจู crontab
echo "0 12 * * * /usr/bin/certbot renew --quiet" | sudo crontab -
```

---

<details>
<summary>๐ธ ุญูุงุช ูุงู</summary>
  
USDT (TRC20): 
  
  ```
  TCoZp7Zdq34mKuBiDiDR3HLzk92pddTmFr
  ```
</details>
